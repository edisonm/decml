#include <stdio.h>
#include <string.h>
#include "dec128.h"
#include "test_dec128.h"

int main(void) {
    int failed = 0;
    printf("dec128: Testing atan\n");
    failed += test_dec128_1(dec128_atan, "0",        "0", 0); // a(0.1)
    failed += test_dec128_1(dec128_atan, "0.1",      "0.09966865249116202737844611987802059", 0); // a(0.1)
    failed += test_dec128_1(dec128_atan, "0.01",     "0.009999666686665238206340116209279549", 0);
    failed += test_dec128_1(dec128_atan, "0.001",    "0.000999999666666866666523809634920544", 0);
    failed += test_dec128_1(dec128_atan, "0.0001",   "0.00009999999966666666866666665238095249", 0);
    failed += test_dec128_1(dec128_atan, "0.00001",  "0.000009999999999666666666686666666665238", 0);
    failed += test_dec128_1(dec128_atan, "0.000001", "9.999999999996666666666668666666667e-7", 0);
    failed += test_dec128_1(dec128_atan, "1",        "0.7853981633974483096156608458198757", 0); // a(1)
    failed += test_dec128_1(dec128_atan, "-1",      "-0.7853981633974483096156608458198757", 0); // a(-1)
    failed += test_dec128_1(dec128_atan, "1.000001", "0.7853986633971983096989941791531841", 0);
    failed += test_dec128_1(dec128_atan, "0.999999", "0.7853976633971983095323275124865674", 0);
    failed += test_dec128_1(dec128_atan, "1.732050807568877293527446341505872",  "1.047197551196597746154214461093168", 0);
    failed += test_dec128_1(dec128_atan, "100000000000000000", "1.570796326794896609231321691639751", 0);
    failed += test_dec128_1(dec128_atan, "1e100",              "1.570796326794896619231321691639751", 0);
    failed += test_dec128_1(dec128_atan,  "1e-100",  "1e-100", 0);
    failed += test_dec128_1(dec128_atan, "-1e-100", "-1e-100", 0);
    printf("dec128: Testing acos\n");
    failed += test_dec128_1(dec128_acos, "1",        "0", 0);
    failed += test_dec128_1(dec128_acos, "0.1",      "1.470628905633336822885798512187058", 0);
    failed += test_dec128_1(dec128_acos, "0.01",     "1.560796160120729506105699414567761", 0);
    failed += test_dec128_1(dec128_acos, "0.001",    "1.56979632662822987756461038208556", 0);
    failed += test_dec128_1(dec128_acos, "0.0001",   "1.57069632679472995256390502496862", 0);
    failed += test_dec128_1(dec128_acos, "0.00001",  "1.570786326794896452564655017473085", 0);
    failed += test_dec128_1(dec128_acos, "0.000001", "1.57079532679489661906465502497301", 0);
    failed += test_dec128_1(dec128_acos, "0",        "1.570796326794896619231321691639751", 0);
    failed += test_dec128_1(dec128_acos, "-0.9",     "2.690565841793530805917998747485151", 0);
    failed += test_dec128_1(dec128_acos, "-1",       "3.141592653589793238462643383279503", 0);
    failed += test_dec128_1(dec128_acos, "-0.1",     "1.670963747956456415576844871092445", 0);
    failed += test_dec128_1(dec128_acos, "2",        "nan", 0);
    printf("dec128: Testing asin\n");
    failed += test_dec128_1(dec128_asin, "1",        "1.570796326794896619231321691639751", 0);
    failed += test_dec128_1(dec128_asin, "0.1",      "0.1001674211615597963455231794526933", 0);
    failed += test_dec128_1(dec128_asin, "0.01",     "0.01000016667416711312562227707199038", 0);
    failed += test_dec128_1(dec128_asin, "0.001",    "0.001000000166666741666711309554191491", 0);
    failed += test_dec128_1(dec128_asin, "0.0001",   "0.0001000000001666666674166666711309524", 0);
    failed += test_dec128_1(dec128_asin, "0.00001",  "0.00001000000000016666666667416666666711", 0);
    failed += test_dec128_1(dec128_asin, "0.000001", "0.000001000000000000166666666666741666667", 0);
    failed += test_dec128_1(dec128_asin, "0",        "0", 0);
    failed += test_dec128_1(dec128_asin, "-0.9",     "-1.1197695149986341866866770558454", 0);
    failed += test_dec128_1(dec128_asin, "-1",       "-1.570796326794896619231321691639751", 0);
    failed += test_dec128_1(dec128_asin, "-0.1",     "-0.1001674211615597963455231794526933", 0);
    failed += test_dec128_1(dec128_asin, "2",        "nan", 0);
    
    report_failed(failed);
    
    return failed != 0;
}
